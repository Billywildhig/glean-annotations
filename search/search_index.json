{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Glean annotations This repository stores user-defined annotations against product metrics at Mozilla defined using the Glean SDK : both those defined in applications (for example, \"fenix\" aka \"Firefox for Android\") as well as libraries like android-components . These annotations are published as an API at this site: api.json . For information on how to contribute annotations, see contributing .","title":"Home"},{"location":"#glean-annotations","text":"This repository stores user-defined annotations against product metrics at Mozilla defined using the Glean SDK : both those defined in applications (for example, \"fenix\" aka \"Firefox for Android\") as well as libraries like android-components . These annotations are published as an API at this site: api.json . For information on how to contribute annotations, see contributing .","title":"Glean annotations"},{"location":"contributing/","text":"Contributing to the Glean Annotations Repository Thank you for your interest in contributing to the Glean Annotations! This section of the documentation tries to codify some best practices for contribution to this repository.","title":"Overview"},{"location":"contributing/#contributing-to-the-glean-annotations-repository","text":"Thank you for your interest in contributing to the Glean Annotations! This section of the documentation tries to codify some best practices for contribution to this repository.","title":"Contributing to the Glean Annotations Repository"},{"location":"contributing/creating/","text":"Creating new annotations There are two recommended workflows for adding new annotations to this repository: Via the Metric's commentary section in the Glean Dictionary . This will either create a new markdown document for you to put information in or allow you to modify the existing one. When you're happy with your changes, convert your changes into a pull request. By directly adding a README.md (or a set of them) to the repository and making a pull request. Be sure to use the same application and metric identifiers as used in the Glean Dictionary, or your annotations will not be picked up. If you need help with this, feel free to ask . Someone from the Data organization should review your pull request within a couple of days. After it is merged, your annotations should appear in the Glean Dictionary shortly thereafter. At the moment, there are no strong guidelines on what content should be in an annotations file. Include whatever you think might be helpful to someone looking at a metric in the context of an analysis. Try to think about information that could save other people time when using the metric. Links to SQL queries or notebooks, tips for handling or interpreting missing data, or other difficulties you have encountered in handling the metric during analysis are some examples. That said, there are a couple of points to bear in mind: The people reading your annotation will come from a diverse set of backgrounds: in language, culture, experience, and role as Mozillians. Avoid using flowery prose and unnecessary jargon. The guidelines for writing content for docs.telemetry.mozilla.org may be helpful reading. These annotations are in a public repository which is world readable. Avoid putting in partner-specific information which is under NDA, exact values or counts from our data (unless the source is an already-public dataset of dashboard) or anything otherwise sensitive. Generally speaking, information on how our software behaves is innocuous and fine to talk about, so don't over-rotate on this: talking about how we use data in public forums helps build trust with our community. It's ok to put in links to dashboards or other resources which are private (behind SSO), but please mark them as such (e.g. by putting (SSO) or the lock emoji \ud83d\udd12 beside the link if not one of our automatically-linkified URLs, see below) and prefer public references where they exist. Automatically linkified URLs To save effort when writing annotations, we automatically create pretty URLs to sql.telemetry.mozilla.org. There is thus no need to use markdown link syntax with these types of urls: simply put in https://sql.telemetry.mozilla.org/queries/<query number> and the Glean Annotations machinery will take care of creating a pretty link (with a lock icon) for you.","title":"Creating new annotations"},{"location":"contributing/creating/#creating-new-annotations","text":"There are two recommended workflows for adding new annotations to this repository: Via the Metric's commentary section in the Glean Dictionary . This will either create a new markdown document for you to put information in or allow you to modify the existing one. When you're happy with your changes, convert your changes into a pull request. By directly adding a README.md (or a set of them) to the repository and making a pull request. Be sure to use the same application and metric identifiers as used in the Glean Dictionary, or your annotations will not be picked up. If you need help with this, feel free to ask . Someone from the Data organization should review your pull request within a couple of days. After it is merged, your annotations should appear in the Glean Dictionary shortly thereafter. At the moment, there are no strong guidelines on what content should be in an annotations file. Include whatever you think might be helpful to someone looking at a metric in the context of an analysis. Try to think about information that could save other people time when using the metric. Links to SQL queries or notebooks, tips for handling or interpreting missing data, or other difficulties you have encountered in handling the metric during analysis are some examples. That said, there are a couple of points to bear in mind: The people reading your annotation will come from a diverse set of backgrounds: in language, culture, experience, and role as Mozillians. Avoid using flowery prose and unnecessary jargon. The guidelines for writing content for docs.telemetry.mozilla.org may be helpful reading. These annotations are in a public repository which is world readable. Avoid putting in partner-specific information which is under NDA, exact values or counts from our data (unless the source is an already-public dataset of dashboard) or anything otherwise sensitive. Generally speaking, information on how our software behaves is innocuous and fine to talk about, so don't over-rotate on this: talking about how we use data in public forums helps build trust with our community. It's ok to put in links to dashboards or other resources which are private (behind SSO), but please mark them as such (e.g. by putting (SSO) or the lock emoji \ud83d\udd12 beside the link if not one of our automatically-linkified URLs, see below) and prefer public references where they exist.","title":"Creating new annotations"},{"location":"contributing/creating/#automatically-linkified-urls","text":"To save effort when writing annotations, we automatically create pretty URLs to sql.telemetry.mozilla.org. There is thus no need to use markdown link syntax with these types of urls: simply put in https://sql.telemetry.mozilla.org/queries/<query number> and the Glean Annotations machinery will take care of creating a pretty link (with a lock icon) for you.","title":"Automatically linkified URLs"},{"location":"contributing/metadata/","text":"Adding metadata Glean Annotations also allow specifying properties via YAML-based front matter before the markdown-based content. This is the same approach used by Jekyll and other systems that process and render markdown. Tags For each annotation, you can specify a list of tags that will be displayed alongside them in the Glean Dictionary . For example, consider this annotation for the addons.enabled_addons metric in Firefox for Android: --- tags: - WebExtensions --- This is a stub commentary for the `addons.enabled_addons` metric: please feel free to edit (read the [contributing guidelines](https://github.com/mozilla/glean-annotations/blob/main/CONTRIBUTING.md) if you haven't done this before) To prevent the proliferation of arbitrary and/or inconsistent tag data, we require every tag used to be defined in a per-application metadata schema defined in the root of the application's annotations ( annotations/<application name>/metadata.yaml ). Here's the beginning of one we created for Fenix, based off their feature labels: tags: Accounts: Corresponds to the [Feature:Accounts](https://github.com/mozilla-mobile/fenix/issues?q=label%3AFeature%3AAccounts) label on GitHub. AndroidIntegration: Corresponds to the [Feature:AndroidIntegration](https://github.com/mozilla-mobile/fenix/issues?q=label%3AFeature%3AAndroidIntegration) label on GitHub. ... Here's a link to the full file , current as of June 2021. If you wish to add tags to a new application, you need to come up with a similar schema. Using a set of tags that correspond to what's in your issue tracker is one recommended approach: that helps create a uniform vocabulary for Telemetry that will feel familiar to people working in a variety of roles (engineers, product managers, and quality assurance). Note that we do not currently support adding tags to libraries used by applications. However, the Glean Dictionary does render the library name (for example, glean-core ) alongside any metrics coming from that library. Warnings You can specify a warning inside the front matter if you want to highlight a caveat within the Glean Dictionary . For example, as of this writing we have the following warning in the application-wide annotation for Firefox Desktop : --- warning: > Most Firefox Desktop telemetry is still being collected via the legacy Firefox Telemetry collection system. A full list of this telemetry is available in the [probe dictionary](https://probes.telemetry.mozilla.org). --- Most Firefox Desktop telemetry is still being collected via the legacy Firefox Telemetry infrastructure and is documented on the [probe dictionary](https://probes.telemetry.mozilla.org). For updates on the current status, see the [Firefox on Glean](https://firefox-source-docs.mozilla.org/toolkit/components/glean/index.html) documentation.","title":"Adding metadata"},{"location":"contributing/metadata/#adding-metadata","text":"Glean Annotations also allow specifying properties via YAML-based front matter before the markdown-based content. This is the same approach used by Jekyll and other systems that process and render markdown.","title":"Adding metadata"},{"location":"contributing/metadata/#tags","text":"For each annotation, you can specify a list of tags that will be displayed alongside them in the Glean Dictionary . For example, consider this annotation for the addons.enabled_addons metric in Firefox for Android: --- tags: - WebExtensions --- This is a stub commentary for the `addons.enabled_addons` metric: please feel free to edit (read the [contributing guidelines](https://github.com/mozilla/glean-annotations/blob/main/CONTRIBUTING.md) if you haven't done this before) To prevent the proliferation of arbitrary and/or inconsistent tag data, we require every tag used to be defined in a per-application metadata schema defined in the root of the application's annotations ( annotations/<application name>/metadata.yaml ). Here's the beginning of one we created for Fenix, based off their feature labels: tags: Accounts: Corresponds to the [Feature:Accounts](https://github.com/mozilla-mobile/fenix/issues?q=label%3AFeature%3AAccounts) label on GitHub. AndroidIntegration: Corresponds to the [Feature:AndroidIntegration](https://github.com/mozilla-mobile/fenix/issues?q=label%3AFeature%3AAndroidIntegration) label on GitHub. ... Here's a link to the full file , current as of June 2021. If you wish to add tags to a new application, you need to come up with a similar schema. Using a set of tags that correspond to what's in your issue tracker is one recommended approach: that helps create a uniform vocabulary for Telemetry that will feel familiar to people working in a variety of roles (engineers, product managers, and quality assurance). Note that we do not currently support adding tags to libraries used by applications. However, the Glean Dictionary does render the library name (for example, glean-core ) alongside any metrics coming from that library.","title":"Tags"},{"location":"contributing/metadata/#warnings","text":"You can specify a warning inside the front matter if you want to highlight a caveat within the Glean Dictionary . For example, as of this writing we have the following warning in the application-wide annotation for Firefox Desktop : --- warning: > Most Firefox Desktop telemetry is still being collected via the legacy Firefox Telemetry collection system. A full list of this telemetry is available in the [probe dictionary](https://probes.telemetry.mozilla.org). --- Most Firefox Desktop telemetry is still being collected via the legacy Firefox Telemetry infrastructure and is documented on the [probe dictionary](https://probes.telemetry.mozilla.org). For updates on the current status, see the [Firefox on Glean](https://firefox-source-docs.mozilla.org/toolkit/components/glean/index.html) documentation.","title":"Warnings"}]}